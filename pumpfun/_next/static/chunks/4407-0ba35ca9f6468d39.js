(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4407],{46601:function(){},63591:function(e,t,a){"use strict";a.d(t,{C:function(){return d}});var s=a(57437),r=a(2265),n=a(65050),o=a(1657);let i=n.fC,c=n.xz,l=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:i=4,...c}=e;return(0,s.jsx)(n.h_,{children:(0,s.jsx)(n.VY,{ref:t,align:r,sideOffset:i,className:(0,o.cn)("z-50 w-72 rounded-md border border-slate-200 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",a),...c})})});function d(e){let{image:t,alt:a}=e;return(0,s.jsx)("div",{onClick:e=>{console.log("clicked",e),e.stopPropagation(),e.preventDefault()},children:(0,s.jsxs)(i,{children:[(0,s.jsx)(c,{asChild:!0,children:(0,s.jsx)("div",{className:"cursor-pointer hover:opacity-7",children:(0,s.jsx)("img",{src:t,alt:a,className:"h-4"})})}),(0,s.jsx)(l,{className:"w-fit bg-black p-2 text-white",children:(0,s.jsx)("p",{className:"text-sm leading-none",children:a})})]})})}l.displayName=n.VY.displayName},18069:function(e,t,a){"use strict";a.d(t,{u:function(){return c}});var s=a(57437),r=a(61396),n=a.n(r),o=a(63591),i=a(11400);let c=e=>{let{coin:t,shouldAnimate:a}=e,{name:r,symbol:c,description:l,image_uri:d,mint:f,creator:u,king_of_the_hill_timestamp:p,raydium_pool:h,reply_count:m,creator_profile_image:x,creator_username:g}=t;return(0,s.jsx)(n(),{href:"/".concat(f),children:(0,s.jsxs)("div",{className:"max-h-[300px] overflow-hidden h-fit p-2 flex border border-transparent hover:border-white gap-2 w-full ".concat(a?"animate-shake":""),children:[(0,s.jsx)("div",{className:"min-w-32",children:(0,s.jsx)("img",{className:"mr-4 w-32 h-auto",src:d,alt:r})}),(0,s.jsxs)("div",{className:"gap-1 grid h-fit",children:[(0,s.jsxs)("div",{className:"text-xs text-blue-200 flex items-center gap-2",children:[(0,s.jsx)("div",{children:"Created by"}),(0,s.jsx)(i.E,{username:g,profile_image:x,address:u})]}),(0,s.jsxs)("p",{className:"text-xs text-green-300 flex gap-1",children:["market cap: ".concat(Number(t.usd_market_cap/1e3).toFixed(2),"K"),(p||h)&&(0,s.jsxs)("div",{className:"flex text-green-500",children:["[badge:"," ",h&&(0,s.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,s.jsx)(o.C,{image:"/migrated.png",alt:"raydium badge"})}),p&&(0,s.jsx)("div",{onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,s.jsx)(o.C,{image:"/king.png",alt:"king of the hill badge"})}),"]"]})]}),(0,s.jsxs)("p",{className:"text-xs flex items-center gap-2",children:["replies: ",m||0,t.nsfw&&(0,s.jsx)("span",{className:"text-red-400",children:"[NSFW]"})]}),(0,s.jsxs)("p",{className:"text-sm w-full",style:{overflowWrap:"break-word",wordBreak:"break-all"},children:[(0,s.jsxs)("span",{className:"font-bold",children:[r," (ticker: ",c,"):"," "]}),l]})]})]})})}},97226:function(e,t,a){"use strict";a.d(t,{V:function(){return l}});var s=a(57437),r=a(11400),n=a(2265),o=a(84310),i=a(57042);let c=e=>{let{userAddress:t}=e,{isFollowing:a,follow:r,unfollow:n}=(0,o.r)(t);return(0,s.jsx)("button",{className:(0,i.Z)("px-3 rounded-full bg-green-300 border text-sm sm:text-base text-black h-fit",a&&"border border-slate-400 bg-slate-800 text-white",!a&&"border-transparent"),onClick:()=>{a?n():r()},children:a?"Unfollow":"Follow"})},l=e=>{let{address:t}=e,{mutuals:a}=function(e){let[t,a]=(0,n.useState)([]),s=async()=>{e&&a(await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/following/mutuals/").concat(e)).then(e=>e.json()))};return(0,n.useEffect)(()=>{s()},[e]),{mutuals:t,fetchMutuals:s}}(t);return a.length?(0,s.jsxs)("div",{className:"grid gap-1 text-white",children:[(0,s.jsx)("div",{children:"People you may know"}),(0,s.jsx)("div",{className:"max-w-screen w-full flex gap-4 overflow-auto",children:a.map(e=>{let{username:t,profile_image:a,address:n,followers:o}=e;return(0,s.jsxs)("div",{className:"grid gap-2 min-w-[120px] max-w-[200px]",children:[(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsx)(r.E,{username:t,profile_image:a,address:n}),(0,s.jsxs)("div",{className:"text-slate-400 whitespace-nowrap",children:[o||0," followers"]})]}),(0,s.jsx)(c,{userAddress:n})]},n)})})]}):null}},11400:function(e,t,a){"use strict";a.d(t,{E:function(){return l}});var s=a(57437),r=a(85429),n=a(30282),o=a(57042),i=a(61396),c=a.n(i);let l=e=>{let{username:t,profile_image:a,address:i,devAddress:l,withBackground:d}=e,{ipfsPrefix:f}=(0,r.useIpfsPrefix)(),u=null==a?void 0:a.replace("https://cf-ipfs.com/ipfs/",f),p=(0,n.Q)((null==i?void 0:i.slice(0,6))||"anon");return(0,s.jsx)(c(),{href:"/profile/".concat(t||i),children:(0,s.jsxs)("div",{className:"flex gap-1  items-center",children:[(0,s.jsx)("img",{src:u||"/pepe.png",className:"w-4 h-4 rounded"}),(0,s.jsxs)("div",{className:(0,o.Z)("px-1 rounded hover:underline flex gap-1",d&&"text-black"),style:{backgroundColor:d?p:"transparent"},children:[t||(null==i?void 0:i.slice(0,6))||"anon"," ",l&&i.toLowerCase()===l.toLowerCase()&&"(dev)"]})]})})}},85754:function(e,t,a){"use strict";a.d(t,{z:function(){return l}});var s=a(57437),r=a(2265),n=a(67256),o=a(39213),i=a(1657);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:l=!1,...d}=e,f=l?n.g7:"button";return(0,s.jsx)(f,{className:(0,i.cn)(c({variant:r,size:o,className:a})),ref:t,...d})});l.displayName="Button"},45179:function(e,t,a){"use strict";a.d(t,{I:function(){return o}});var s=a(57437),r=a(2265),n=a(1657);let o=r.forwardRef((e,t)=>{let{className:a,type:r,...o}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",a),ref:t,...o})});o.displayName="Input"},78488:function(e,t,a){"use strict";a.d(t,{Y:function(){return o}});var s=a(2265),r=a(50439),n=a(85429);let o=e=>{let{sort:t,order:a,offset:o,limit:i,searchTerm:c,includeNsfw:l,creator:d}=e,[f,u]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),{ipfsPrefix:m}=(0,n.useIpfsPrefix)(),x=(0,r.Nr)(c,500),g=async()=>{h(!0);let e="offset=".concat(o,"&limit=").concat(i,"&sort=").concat(t,"&order=").concat(a,"&includeNsfw=").concat(l);x&&(e+="&searchTerm=".concat(encodeURIComponent(x))),d&&(e+="&creator=".concat(d)),u((await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/coins?").concat(e)).then(e=>e.json())).map(e=>(e.image_uri=e.image_uri.replace("https://cf-ipfs.com/ipfs/",m),e.metadata_uri=e.metadata_uri.replace("https://cf-ipfs.com/ipfs/",m),e))),h(!1)};return(0,s.useEffect)(()=>{g()},[t,a,m,x,o,i,l]),{coins:f,setCoins:u,loading:p,fetchCoins:g}}},84310:function(e,t,a){"use strict";a.d(t,{r:function(){return n}});var s=a(80323),r=a(2265);let n=e=>{let{address:t,loginToken:a}=(0,s.useProfile)(),[n,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),l=async()=>{a&&(o(!0),await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/following/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}),d())},d=async()=>{if(!e||!t)return;let{follow:a}=await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/following/single/").concat(e,"?userId=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json());o(!!a)},f=async()=>{if(!e||!t)return;let{follow:a}=await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/following/single/").concat(t,"?userId=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json());c(!!a)},u=async()=>{a&&(o(!1),await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/following/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}),d())};return(0,r.useEffect)(()=>{d(),f()},[e,t]),{fetchIsFollowing:d,follow:l,unfollow:u,isFollowing:n,isFollowedBack:i}}},2953:function(e,t,a){"use strict";a.d(t,{a:function(){return r}});var s=a(2265);let r=e=>{let[t,a]=(0,s.useState)(),r=async()=>{e&&a(await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/users/").concat(e)).then(e=>e.json()))};return(0,s.useEffect)(()=>{r()},[e]),{fetchUser:r,user:t}}},1657:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(57042),r=a(74769);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},85429:function(e,t,a){"use strict";a.r(t),a.d(t,{IpfsPrefixProvider:function(){return c},useIpfsPrefix:function(){return o}});var s=a(57437),r=a(2265);let n=(0,r.createContext)({ipfsPrefix:"https://ipfs.io/ipfs/",findIpfsPrefix:()=>{}}),o=()=>(0,r.useContext)(n),i="https://pump.mypinata.cloud/ipfs/",c=e=>{let{children:t}=e,[a,o]=(0,r.useState)(i),c=async()=>{let e="QmXeG5tTjC63hjTF7a4GcUyetE6yPcsR4rBzX7wb8mmpzg",t=["https://cf-ipfs.com/ipfs/","https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/"];await fetch("".concat(i).concat(e)).then(e=>e.json()).then(e=>{o(i)}).catch(a=>{console.error(a),t.forEach(async t=>{let a=await fetch("".concat(t).concat(e)).then(e=>e.json());(null==a?void 0:a.name)&&o(e=>e!==i?e:t)})})};return(0,r.useEffect)(()=>{c()},[]),(0,s.jsx)(n.Provider,{value:{ipfsPrefix:a,findIpfsPrefix:c},children:t})}},80323:function(e,t,a){"use strict";a.r(t),a.d(t,{ProfileProvider:function(){return u},useProfile:function(){return f}});var s=a(57437),r=a(2265),n=a(78898),o=a(68870),i=a.n(o),c=a(3446),l=a(2953);let d=(0,r.createContext)({}),f=()=>(0,r.useContext)(d),u=e=>{let{children:t}=e,[a,o]=(0,r.useState)(!1),[f,u]=(0,n._)("login-token",""),{signMessage:p,publicKey:h}=(0,c.O)(),[m,x]=(0,r.useState)(),{user:g,fetchUser:b}=(0,l.a)(m),v=async()=>{if(!p||!h)throw Error("Wallet not connected");o(!0);try{let e=Date.now(),t=i().encode(await p(new TextEncoder().encode("Sign in to pump.fun: ".concat(e)))),{access_token:a}=await fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:h.toBase58(),signature:t,timestamp:e})}).then(e=>e.json());u(a)}catch(e){console.error("Failed to login",e)}finally{o(!1)}};return(0,r.useEffect)(()=>{if(f){let e=JSON.parse(atob(f.split(".")[1]));1e3*e.exp<Date.now()&&u(""),h&&h.toBase58()!==e.address&&u(""),x(e.address),fetch("".concat("https://client-api-2-74b1891ee9f9.herokuapp.com","/users/register"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f)},body:JSON.stringify({address:e.address})})}},[f,h]),(0,s.jsx)(d.Provider,{value:{loginToken:f,login:v,loginLoading:a,address:m,user:g,fetchUser:b},children:t})}},30282:function(e,t,a){"use strict";a.d(t,{Q:function(){return s}});let s=e=>{let t=0;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t),t&=t;let a=(t=Math.abs(t))%128+127,s=(t>>8)%128+127,r=(t>>16)%128+127;return"#".concat(a.toString(16).padStart(2,"0")).concat(s.toString(16).padStart(2,"0")).concat(r.toString(16).padStart(2,"0"))}}}]);